

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Working with Cellular Automata &mdash; CellPyLib  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Additional Features" href="additional.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> CellPyLib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Using CellPyLib</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working with Cellular Automata</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#a-first-example">A First Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-ca-are-represented">How CA are represented</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initializing-ca">Initializing CA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#evolving-ca">Evolving CA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-ca">Visualizing CA</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="additional.html">Additional Features</a></li>
</ul>
<p class="caption"><span class="caption-text">API Docs and License</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lantunes/cellpylib">Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CellPyLib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Working with Cellular Automata</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="working-with-cellular-automata">
<h1>Working with Cellular Automata<a class="headerlink" href="#working-with-cellular-automata" title="Permalink to this headline">¶</a></h1>
<div class="section" id="a-first-example">
<h2>A First Example<a class="headerlink" href="#a-first-example" title="Permalink to this headline">¶</a></h2>
<p>The following example illustrates the evolution of the Rule 30 CA, described in <cite>A New Kind of Science</cite>, as implemented
with CellPyLib:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cellpylib</span> <span class="k">as</span> <span class="nn">cpl</span>

<span class="n">cellular_automaton</span> <span class="o">=</span> <span class="n">cpl</span><span class="o">.</span><span class="n">init_simple</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>

<span class="n">cellular_automaton</span> <span class="o">=</span> <span class="n">cpl</span><span class="o">.</span><span class="n">evolve</span><span class="p">(</span><span class="n">cellular_automaton</span><span class="p">,</span> <span class="n">timesteps</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                                <span class="n">apply_rule</span><span class="o">=</span><span class="k">lambda</span> <span class="n">n</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">cpl</span><span class="o">.</span><span class="n">nks_rule</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
</pre></div>
</div>
<p>The initial conditions are instantiated using the function <cite>init_simple</cite>, which, in this example, creates a
200-dimensional vector consisting of zeroes, except for the component in the center of the vector, which is initialized
with a value of 1. Next, the system is subjected to evolution by calling the <cite>evolve</cite> function. The system evolves under
the rule specified through the <cite>apply_rule</cite> parameter. Any function that accepts the three arguments <cite>n</cite>, <cite>c</cite> and <cite>t</cite>
can be supplied as a rule, but in this case the built-in function <cite>nks_rule</cite> is invoked to provide Rule 30. The CA is
evolved for 100 <cite>timesteps</cite>, or 100 applications of the rule to the initial and subsequent conditions.</p>
<p>During each timestep, the function supplied to <cite>apply_rule</cite> is invoked for each cell. The <cite>n</cite> argument refers to the
neighbourhood of the current cell, and consists of an array (in the 1-dimensional CA case) of the activities (i.e.
states) of the cells comprising the current cell’s neighbourhood (an array with length 3, in the case of a 1-dimensional
CA with radius of 1). The <cite>c</cite> argument refers to index of the cell under consideration. It serves as a label identifying
the current cell. The <cite>t</cite> argument is an integer specifying the current timestep.</p>
<p>Finally, to visualize the results, the <cite>plot</cite> function can be utilized:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cpl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cellular_automaton</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/rule30.png"><img alt="_images/rule30.png" src="_images/rule30.png" style="width: 400px;" /></a>
</div>
<div class="section" id="how-ca-are-represented">
<h2>How CA are represented<a class="headerlink" href="#how-ca-are-represented" title="Permalink to this headline">¶</a></h2>
<p>In CellPyLib, a CA is an array containing the states of the system at each timestep. The initial state is found at index
0 in the array (and also represents the first timestep), the result of the second timestep is at index 1 in the array,
and so on. A state is represented as an array for 1-dimensional CA, and as an array of arrays for 2-dimensional CA.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># An example of a 1D binary CA with 10 cells evolved for 3 timesteps</span>
<span class="p">[</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>  <span class="c1"># 1st timestep (initial conditions)</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>  <span class="c1"># 2st timestep</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>   <span class="c1"># 3rd timestep</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="initializing-ca">
<h2>Initializing CA<a class="headerlink" href="#initializing-ca" title="Permalink to this headline">¶</a></h2>
<p>A CA is initialized by simply instantiating an array of an array (for 1-dimensional CA), or an array of an array of an
array (for 2-dimensional CA). This will represent the initial conditions of the system, which can be submitted to the
<cite>evolve</cite> function. For convenience, there are several built-in functions for common CA initializations. For example, the
<cite>init_simple</cite> function can be used to create a 1D binary initialization with a 1 in the center:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cellpylib</span> <span class="k">as</span> <span class="nn">cpl</span>
<span class="n">cellular_automaton</span> <span class="o">=</span> <span class="n">cpl</span><span class="o">.</span><span class="n">init_simple</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cellular_automaton</span><span class="p">)</span>
<span class="c1"># [[0 0 0 0 0 1 0 0 0 0]]</span>
</pre></div>
</div>
<p>An analogous function, <cite>init_simple2d</cite>, exists for 2-dimensional CA.</p>
<p>There are built-in functions for initializing CA randomly as well, in the <cite>init_random</cite> and <cite>init_random2d</cite> functions.</p>
</div>
<div class="section" id="evolving-ca">
<h2>Evolving CA<a class="headerlink" href="#evolving-ca" title="Permalink to this headline">¶</a></h2>
<p>CA are evolved with the <cite>evolve</cite> function (for 1-dimensional CA) and the <cite>evolve2d</cite> function (for 2-dimensional CA). The
<cite>evolve</cite> function requires 4 parameters: <cite>cellular_automaton</cite>, <cite>timesteps</cite>, <cite>apply_rule</cite> and <cite>r</cite>.</p>
<p>The <cite>cellular_automaton</cite> parameter represents the CA consisting of initial conditions. For example, for a 1D CA, a valid
argument could be <cite>[[0,0,0,0,1,0,0,0,0]]</cite>.</p>
<p>The <cite>timesteps</cite> parameter is simply an integer representing the number of timesteps the CA should undergo evolution, or
application of the supplied rule. Note that the initial conditions of the CA are considered the 1st timestep, so, for
example, if <cite>timesteps</cite> is set to <cite>3</cite>, then the rule will be applied two times.</p>
<p>The <cite>apply_rule</cite> parameter expects a callable that represents the rule that will be applied to each cell of the CA at
each timestep. Any kind of callable is valid, but the callable must accept 3 arguments: <cite>n</cite>, <cite>c</cite> and <cite>t</cite>. Furthermore,
the callable must return the state of the current cell at the next timestep. The <cite>n</cite> argument is the neighbourhood,
which is a NumPy array of length <cite>2r + 1</cite> representing the state of the neighbourhood of the cell (for 1D CA), where <cite>r</cite>
is the neighbourhood radius. The state of the current cell will always be located at the “center” of the neighbourhood.
The <cite>c</cite> argument is the cell identity, which is a scalar representing the index of the cell in the cellular automaton
array. Finally, the <cite>t</cite> argument is an integer representing the time step in the evolution.</p>
<p>The <cite>r</cite> parameter is simply an integer that represents the radius of the neighbourhood of the CA. For 1D CA, a radius of
1 implies a neighbourhood is of size 3, a radius of 2 implies a neighbourhood of size 5, and so on. For 2D CA, the same
idea applies, but the neighbourhood will have the dimensions <cite>2r+1 x 2r+1</cite> (with a slight adjustment for von Neumann
neighbourhoods).</p>
</div>
<div class="section" id="visualizing-ca">
<h2>Visualizing CA<a class="headerlink" href="#visualizing-ca" title="Permalink to this headline">¶</a></h2>
<p>There are a number of built-in functions to help visualize CA. The simplest is perhaps the <cite>plot</cite> function, which plots
the evolution of a 1D CA. There is also the <cite>plot_multiple</cite> function, which will create plots for multiple CA in the
same invocation. For 2D CA, there is the <cite>plot2d</cite> function. This function accepts an additional argument, <cite>timestep</cite>,
which represents the particular timestep to be plotted. If none is given, then the state at the last timestep will be
plotted. Finally, the evolution of 2D CA can be animated, with the <cite>plot2d_animate</cite> function.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="additional.html" class="btn btn-neutral float-right" title="Additional Features" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Luis M. Antunes.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>